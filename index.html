<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Indonesia</title>
  <script src="jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="ramda.js" type="text/javascript" charset="utf-8"></script>
  <script>
    var s = {};

    function tag(tag) {
      return function(attrs){
        return $(document.createElementNS('http://www.w3.org/2000/svg', tag)).attr(attrs || {});
      }
    }

    var circle = tag('circle');
    var use    = tag('use');

    $(function(){
      $("#indonesia").load(function(){
        var board   = $(this.contentDocument);
        var regions = board.find("#layer7");
        var oceans  = board.find("#layer2").remove();
        var arrows  = board.find("#layer5").remove();
        var spice   = board.find("#spice");
        var sp      = use({'xlink:href': '#spice', x: 550, y: 550}).appendTo(regions);
        var c       = circle({cx: 50, cy: 50, r:40, stroke: 'black', 'stroke-width': 2, fill: 'red'}).appendTo(regions);
        $.extend(s, {board: board, spice: spice, sp: sp, c: c});
      });
    });

  </script>
</head>
<body>
  <object id="indonesia" type="image/svg+xml" data="map/indonesia.svg">No SVG support</object>
</body>
</html>
